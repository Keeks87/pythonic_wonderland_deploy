<!-- qna/qna_detail.html -->
{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <!-- Question Title -->
    <h1 class="mb-3">{{ question.title }}</h1>

    <!-- Question Text -->
    <p>{{ question.text|linebreaks }}</p>

    <!-- Question Code Snippet -->
    {% if question.code_snippet %}
      <div class="code-snippet">
        <pre><code>{{ question.code_snippet }}</code></pre>
      </div>
    {% endif %}

    <!-- Answers Heading -->
    <h2 class="mt-4 mb-2">Answers</h2>

    <!-- Answers List -->
    {% for answer in question.answers.all %}
      <div class="card mb-3">
        <div class="card-body">
          <!-- Answer Text -->
          <p class="card-text">{{ answer.text|linebreaks }}</p>
          
          <!-- Answer Code Snippet -->
          {% if answer.code_snippet %}
            <div class="code-snippet">
              <pre><code>{{ answer.code_snippet }}</code></pre>
            </div>
          {% endif %}

          <!-- Answered Date -->
          <p class="text-muted"><small>Answered on {{ answer.created_date }}</small></p>
        </div>
      </div>
    {% empty %}
      <p>No answers yet.</p>
    {% endfor %}
  </div>
{% endblock %}
